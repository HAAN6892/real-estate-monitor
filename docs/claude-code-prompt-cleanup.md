# Claude Code 작업 프롬프트 — 대시보드 정리 + 필터 강화

## 작업 목록 (6개)

---

### 1. 전세 데이터 200세대 필터 확인/적용

main.py의 전월세 수집 로직(build_rent_region_data)에서 세대수 200세대 이상 필터가 적용되어 있는지 확인.
매매(build_region_data)와 동일하게 적용되어야 함.

만약 안 되어 있으면:
- 매매와 동일한 세대수 필터 추가
- config.json의 filters.min_households 값 사용

확인만 하고 결과 알려줘. 수정이 필요하면 수정.

---

### 2. 키워드 제외 필터 추가

main.py에서 매매/전세 데이터 수집 시, 단지명(아파트명)에 아래 키워드가 포함되면 제외:

```python
EXCLUDE_KEYWORDS = ["오피스텔", "주상복합", "도시형", "빌라", "타운하우스"]
```

적용 위치: build_region_data()와 build_rent_region_data() 둘 다.
아파트명 필드에서 키워드 매칭 후 해당 매물 스킵.

---

### 3. 매수/전세 카드에 세대수 표시 추가

index.html의 카드 UI에 세대수 정보 표시.
현재 카드에 면적, 연식, 역세권 등은 나오는데 세대수가 안 나옴.

- 매수 모드 카드: 연식 옆이나 아래에 "○○○세대" 표시
- 전세 모드 카드: 동일하게 세대수 표시
- 데이터에 households 필드가 있는지 확인하고, 0이거나 없으면 표시 안 함
- 테이블 뷰에도 세대수 컬럼 추가 (이미 있으면 확인만)

---

### 4. 대시보드 탐색 조건 텍스트 업데이트

index.html 상단의 매물 탐색 조건 텍스트가 현재:
"서울 동남부 · 성남 · 용인 · 과천 · 안양 · 하남 · 광주"

실제 monitor.yml의 regions에는 수원, 군포, 의왕, 구리도 포함되어 있음.
→ 텍스트를 실제 모니터링 지역과 일치시켜줘.

현재 monitor.yml regions 목록:
- 서울: 강남구, 서초구, 송파구, 강동구
- 경기: 과천, 안양(만안·동안), 성남(수정·중원·분당), 하남, 용인(수지·기흥), 광주, 수원(장안·영통·팔달), 군포, 의왕, 구리

표시 형태 예시:
"서울 동남부 · 성남 · 용인 · 과천 · 안양 · 하남 · 광주 · 수원 · 군포 · 의왕 · 구리"

monitor.yml의 regions 배열과 실제로 일치하는지 대조 후 업데이트.

---

### 5. settings.json 기본값 점검

현재 settings.json:
```json
{
  "income1": 4740,
  "income2": 4000,
  "cash": 15000,
  "interior": 5000,
  "rate": 4.0,
  "term": 30,
  "monthlyLimit": 200,
  "mgmt": 35,
  "ltv": 70,
  "dsr": 40,
  "houseCount": 1
}
```

확인할 것:
- interior 5000 → 부동산_매수_프로젝트.md에는 8000~9000으로 되어있음. 어느 게 맞는지는 사용자가 판단하니 변경하지 말고, 현재 값 유지.
- 나머지 값들이 대시보드에서 정상 로드되는지만 확인.
- 변경 불필요하면 스킵.

---

### 6. 진행상황 문서 최신화

프로젝트 루트의 README.md 또는 별도 문서에 현재 상태 반영.
아래 내용을 포함:

완료된 작업:
- 지오코딩 법정동 제거 로직 적용
- 정책 변경 감지 배치 추가 (주 1회)
- 모바일 팝업 UX 개선
- 좌표 전체 리셋 및 재생성
- 키워드 제외 필터 추가
- 카드 세대수 표시

다음 작업:
- 지역별 LTV 자동 적용 (claude-code-prompt-ltv-auto.md)
- 파일 분리 리팩토링 (index.html → html/css/js)

---

## 커밋 전략

변경 범위에 따라 1~3개 커밋으로 분리:
1. "fix: 전세 데이터 세대수 필터 + 키워드 제외 필터 추가" (main.py)
2. "improve: 카드 세대수 표시 + 탐색 조건 텍스트 업데이트" (index.html)
3. "docs: 진행상황 문서 최신화"

## 주의사항
- 기존 기능 깨지면 안 됨
- 전세/매수 모드 둘 다 테스트
- 카드뷰/테이블뷰 둘 다 확인
