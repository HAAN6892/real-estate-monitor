# 🏠 부동산 실거래가 모니터링 봇 - 설치 가이드

## 1단계: 파이썬 설치 확인

커맨드창(cmd) 열고 아래 입력:
```
python --version
```
3.8 이상이면 OK. 없으면 https://www.python.org 에서 설치.
설치 시 **"Add Python to PATH" 체크** 꼭 하기!

---

## 2단계: 필요 패키지 설치

커맨드창에서:
```
pip install requests
```

---

## 3단계: 공공데이터 API 키 설정

1. https://www.data.go.kr 접속
2. 로그인 후 "국토교통부_아파트매매 실거래 상세 자료" 검색
3. 활용신청 → 승인되면 **인증키(Encoding)** 복사
4. `config.json` 열고 `api_key`에 붙여넣기

---

## 4단계: 텔레그램 봇 설정

### 봇 토큰 발급
1. 텔레그램에서 `@BotFather` 검색
2. `/newbot` 입력 → 이름, 유저네임 설정
3. 발급된 **봇 토큰** 복사
4. `config.json`의 `bot_token`에 붙여넣기

### 채팅 ID 확인
1. 만든 봇에게 아무 메시지 전송 (예: "안녕")
2. 브라우저에서 아래 주소 접속 (YOUR_BOT_TOKEN을 실제 토큰으로 교체):
```
https://api.telegram.org/botYOUR_BOT_TOKEN/getUpdates
```
3. 응답에서 `"chat":{"id":숫자}` 부분의 숫자가 채팅 ID
4. `config.json`의 `chat_id`에 붙여넣기

---

## 5단계: config.json 설정

```json
{
    "api_key": "발급받은_API키",
    "telegram": {
        "bot_token": "봇토큰",
        "chat_id": "채팅ID"
    },
    "filters": {
        "min_area": 59,       ← 최소 전용면적 (㎡)
        "max_area": 84,       ← 최대 전용면적 (㎡)
        "min_price": 0,       ← 최소 가격 (만원 단위, 0이면 제한 없음)
        "max_price": 60000,   ← 최대 가격 (만원 단위, 60000 = 6억)
        "min_floor": 3,       ← 최소 층수
        "max_build_year": 2011 ← 이 연도 이하 건물만 (2011 = 15년 이상 구축)
    },
    "regions": [
        {"name": "서울 강남구", "code": "11680"},
        ...
    ]
}
```

### 자주 쓸 지역 코드 참고

| 지역 | 코드 |
|------|------|
| 서울 강남구 | 11680 |
| 서울 서초구 | 11650 |
| 서울 송파구 | 11710 |
| 서울 강동구 | 11740 |
| 성남 분당구 | 41135 |
| 성남 수정구 | 41131 |
| 성남 중원구 | 41133 |
| 용인 수지구 | 41465 |
| 용인 기흥구 | 41463 |
| 경기 광주시 | 41610 |
| 수원 영통구 | 41117 |
| 화성시 | 41590 |

다른 지역 코드는 여기서 검색: https://www.code.go.kr/stdcode/regCodeL.do

---

## 6단계: 테스트 실행

커맨드창에서 파일이 있는 폴더로 이동 후:
```
cd 파일경로
python main.py
```

텔레그램으로 알림이 오면 성공!

---

## 7단계: 자동 실행 설정 (Windows 작업 스케줄러)

매일 아침 8시, 저녁 8시에 자동 실행되게 설정:

1. 시작 메뉴에서 **"작업 스케줄러"** 검색 → 실행
2. 오른쪽 "기본 작업 만들기" 클릭
3. 이름: `부동산 모니터링`
4. 트리거: "매일" 선택 → 시작 시간 08:00
5. 동작: "프로그램 시작" 선택
   - 프로그램: `python` (또는 python.exe 전체 경로)
   - 인수 추가: `main.py`
   - 시작 위치: `파일이 있는 폴더 경로` (예: C:\Users\내이름\real_estate_monitor)
6. 마침

저녁 8시용도 동일하게 하나 더 만들기!

> 💡 PC가 꺼져있으면 실행 안 됨.
> PC 켤 때 한번 수동 실행해도 충분!

---

## 사용 팁

- **지역 추가**: config.json의 `regions`에 새 항목 추가하면 됨
- **가격 범위 변경**: `max_price` 수정 (만원 단위)
- **면적 변경**: `min_area`, `max_area` 수정
- **구축 기준 변경**: `max_build_year` 수정 (예: 2015로 바꾸면 10년 이상)
- **층수 필터 끄기**: `min_floor`을 1로 설정
- **수동 실행**: 언제든 `python main.py` 실행하면 즉시 조회

---

## 알림 예시

```
🏠 새 실거래 감지!
━━━━━━━━━━━━━━━
📍 성남 분당구 정자동
🏢 한솔마을두산위브
💰 5억 2,000만원
📐 전용 84.0㎡
🏗 1997년 준공
🔢 12층
📅 2026.02.05 거래
━━━━━━━━━━━━━━━
```

---

## 참고사항

- 국토교통부 API는 **실거래 "체결" 데이터**입니다 (현재 매물 목록 X)
- 거래 신고 후 데이터 반영까지 보통 1~2주 소요
- 따라서 "최근 이 지역에서 이 가격대에 거래가 됐다"는 시세 파악용으로 활용
- 실매물 확인은 네이버 부동산/아실 앱 관심단지 알림과 병행 추천
